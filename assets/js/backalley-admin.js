!function a(l,i,u){function c(t,e){if(!i[t]){if(!l[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(f)return f(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=i[t]={exports:{}};l[t][0].call(o.exports,function(e){return c(l[t][1][e]||e)},o,o.exports,a,l,i,u)}return i[t].exports}for(var f="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,r){"use strict";(n=e("./models/MetaBox"))&&n.__esModule;var n,o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}}(e("./views/metaBoxView")),a=e("./views/base");window.state={},window.pagenow===a.wpPages.editPostLocation&&(a.elements.platformUrlContainer.addEventListener("click",function(e){if(e.target.dataset.backalleyLocationPlatform){e.preventDefault();window.confirm("Are you sure you want to remove this platform? If you save after removing it, the url associated with it for this location will be permanantly deleted.")&&document.getElementById(e.target.dataset.backalleyLocationPlatform).remove()}}),a.elements.newPlatformButton.addEventListener("click",function(e){e.preventDefault(),o.insertNewPlatformUrlInput()}))},{"./models/MetaBox":2,"./views/base":3,"./views/metaBoxView":4}],2:[function(e,t,r){"use strict";function u(e,t,r,n,o,a,l){try{var i=e[a](l),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,o)}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e}var e;return function(e,t,r){t&&n(e.prototype,t),r&&n(e,r)}(t,[{key:"addNewDeliveryPlatform",value:(e=function(i){return function(){var e=this,l=arguments;return new Promise(function(t,r){var n=i.apply(e,l);function o(e){u(n,t,r,o,a,"next",e)}function a(e){u(n,t,r,o,a,"throw",e)}o(void 0)})}}(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t=jQuery.post(ajaxurl,this.data),this.result=t}catch(e){alert(e)}case 1:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})}]),t}();r.default=o},{}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.wpPages=r.jQueryElements=r.elementStrings=r.elements=void 0;var n={newPlatformDiv:document.querySelector("#backalley--new_platform--div"),newPlatformInput:document.querySelector("#backalley--new_platform--input"),newPlatformButton:document.querySelector("#backalley--new_platform--submit"),platfromUrlTemplate:document.querySelector("#backalley--platform_url--dummy_markup"),platformUrlContainer:document.querySelector("#backalley--platform_url--container"),platformUrlDeleteBtn:document.querySelectorAll("#backalley--platform_url--delete_btn"),positionValues:document.querySelectorAll(".position-value"),sortableLi:document.querySelectorAll(".sortable--item-container")};r.elements=n;r.elementStrings={};r.jQueryElements={};r.wpPages={editPostLocation:"ba_location"}},{}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.insertNewPlatformUrlInput=void 0;var n=e("./base");r.insertNewPlatformUrlInput=function(){var t=n.elements.newPlatformInput.value;if(t){var r=t.toLowerCase().replace(/[^a-z0-9_\-]/,"");r=t;var e=n.elements.platfromUrlTemplate.cloneNode(!0);e.id=e.dataset.idFormat.replace("%platform_name%",r),e.removeAttribute("hidden"),e.removeAttribute("data-id-format"),e.querySelectorAll("*").forEach(function(e){e.childNodes.forEach(function(e){3===e.nodeType&&(e.textContent=e.textContent.replace("%platform_title%",t))}),0<e.attributes.length&&Array.from(e.attributes).forEach(function(e){e.value=e.value.replace("%platform_name%",r),e.value=e.value.replace("%platform_title%",t)}),e.hasAttribute("disabled")&&e.removeAttribute("disabled")}),n.elements.platformUrlContainer.insertAdjacentElement("beforeend",e),n.elements.newPlatformInput.value=""}}},{"./base":3}]},{},[1]);
//# sourceMappingURL=backalley-admin.js.map
